
<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OCTA NETWORK - ููุตุฉ ูุฑุงูุจุฉ ุงูุดุจูุงุช ุงูุฐููุฉ</title>
    <meta name="description" content="ููุตุฉ ูุชุทูุฑุฉ ููุฑุงูุจุฉ ุงูุดุจูุงุช ูุงูุชุญููู ุงูุฐูู ูุน ุงูุฏุนู ูุชุนุฏุฏ ุงููุบุงุช" />
    <meta name="author" content="OCTA NETWORK Team" />

    <meta property="og:title" content="OCTA NETWORK - ููุตุฉ ูุฑุงูุจุฉ ุงูุดุจูุงุช ุงูุฐููุฉ" />
    <meta property="og:description" content="ููุตุฉ ูุชุทูุฑุฉ ููุฑุงูุจุฉ ุงูุดุจูุงุช ูุงูุชุญููู ุงูุฐูู ูุน ุงูุฏุนู ูุชุนุฏุฏ ุงููุบุงุช" />
    <meta property="og:type" content="website" />
    
    <meta name="twitter:card" content="summary_large_image" />
    
    <!-- Favicon fixed -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E๐%3C/text%3E%3C/svg%3E" />
    
    <!-- Preload critical CSS -->
    <link rel="preload" href="./src/styles/loading.css" as="style" />
    <link rel="stylesheet" href="./src/styles/loading.css" />
    
    <!-- GPT Engineer script - Required for Lovable functionality -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </head>

  <body>
    <div id="loading" class="loading-screen">
      <div class="loading-spinner"></div>
      <div class="loading-text">ุฌุงุฑู ุชุญููู OCTA NETWORK...</div>
    </div>
    
    <div id="error" class="error-screen">
      <h2>ุฎุทุฃ ูู ุงูุชุญููู</h2>
      <p>ูุดู ูู ุชุญููู ุงูุชุทุจูู ุงูุฑุฆูุณู</p>
      <button onclick="window.location.reload()">
        ุชุญุฏูุซ ุงูุตูุญุฉ
      </button>
    </div>
    
    <div id="root"></div>
    
    <script type="module">
      console.log('๐ OCTA NETWORK - ุจุฏุก ุงูุชููุฆุฉ...');
      
      // Enhanced Loading Manager
      class LoadingManager {
        constructor() {
          this.hasLoaded = false;
          this.setupTimeout();
          this.setupErrorHandlers();
        }

        setupTimeout() {
          setTimeout(() => {
            if (!this.hasLoaded) {
              this.showError('ุงูุชูุช ูููุฉ ุงูุชุญููู');
            }
          }, 10000);
        }

        setupErrorHandlers() {
          window.addEventListener('error', (event) => {
            console.error('ุฎุทุฃ ูู ุงููุงูุฐุฉ:', event.error);
            if (!this.hasLoaded) {
              this.showError('ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูุชุทุจูู');
            }
          });
        }

        hideLoading() {
          this.hasLoaded = true;
          const loading = document.getElementById('loading');
          const root = document.getElementById('root');
          
          if (loading) loading.style.display = 'none';
          if (root) {
            root.style.display = 'block';
            root.classList.add('loaded');
          }
          
          console.log('โ ุชู ุฅุฎูุงุก ุดุงุดุฉ ุงูุชุญููู');
        }

        showError(message) {
          const loading = document.getElementById('loading');
          const error = document.getElementById('error');
          const errorText = error?.querySelector('p');
          
          if (loading) loading.style.display = 'none';
          if (error) {
            error.style.display = 'flex';
            if (errorText && message) {
              errorText.textContent = message;
            }
          }
          
          console.error('ุชู ุนุฑุถ ุดุงุดุฉ ุงูุฎุทุฃ:', message);
        }
      }

      const manager = new LoadingManager();
      window.hideLoading = () => manager.hideLoading();
      window.showError = (msg) => manager.showError(msg);

      // Load main application
      async function initApp() {
        try {
          console.log('๐ง ุจุฏุก ุชุญููู ุงูุชุทุจูู...');
          
          // Import main module with proper error handling
          const mainModule = await import('./src/main.tsx');
          
          console.log('โ ุชู ุชุญููู ุงูุชุทุจูู ุจูุฌุงุญ');
          
          // Hide loading after successful import
          setTimeout(() => {
            manager.hideLoading();
          }, 500);
          
        } catch (error) {
          console.error('โ ุฎุทุฃ ูู ุชุญููู ุงูุชุทุจูู:', error);
          manager.showError('ูุดู ูู ุชุญููู ุงูุชุทุจูู ุงูุฑุฆูุณู');
        }
      }

      // Start application
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initApp);
      } else {
        initApp();
      }
    </script>
  </body>
</html>
